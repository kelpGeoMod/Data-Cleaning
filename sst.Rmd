## Reading and Loading the SST Data

Load the libraries 
```{r}
library(httr)
library(ncdf4)
library(tmap)
library(raster)
library(tictoc)
library(beepr)
library(terra)
```


Make a mask
```{r}
# Make an empty raster of 0.008 degree resolution
x <- raster() # make an empty raster

crs(x) <- CRS("+proj=longlat +datum=WGS84") # Set the CRS
extent(x) <- extent(-120.5, -119.45, 33.83, 34.49) # set extent
res(x) <- c(0.008, 0.008) # set resolution
values(x) <- 1:ncell(x) # fill in values 1-10873 by row




```


Read one image
```{r}
file <- nc_open("/capstone/kelpgeomod/raw_data/SST/GRHSST_lvl4/20230101090000-JPL-L4_GHRSST-SSTfnd-MUR-GLOB-v02.0-fv04.1.dap.nc4")
sst <- ncvar_get(file, "analysed_sst")
sst_rast <- raster(sst)
plot(sst_rast)
```

Modify the SST Raster to the mask
```{r}
# Set extent, CRS, and resolution
extent(sst_rast) <- extent(x)
crs(sst_rast) <- crs(x)
res(sst_rast) <- res(x)

# Resample the mask to match the resolution of the raster
mask_resampled <- resample(x, sst_rast, method = "bilinear")

#Mask
sst_masked <- mask(sst_rast, x)

#Check dimentions
dim(sst_masked)

#Plot
plot(sst_masked)

```


